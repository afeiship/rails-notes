(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{206:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"how-to-create"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-create","aria-hidden":"true"}},[t._v("#")]),t._v(" how to create")]),t._v(" "),s("h2",{attrs:{id:"create"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create","aria-hidden":"true"}},[t._v("#")]),t._v(" create")]),t._v(" "),s("blockquote",[s("p",[t._v("通过运行插件生成器并传递必要的选项就可以生成引擎。在 Blorgh 引擎的例子中，我们需要创建“可挂载”的引擎，为此可以在终端中运行下面的命令：")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 创建一个plugin名为： blorgh\nrails plugin new blorgh --mountable\n\n# 查看完整的命令\nrails plugin --help\n")])])]),s("h2",{attrs:{id:"attention"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#attention","aria-hidden":"true"}},[t._v("#")]),t._v(" attention")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("通过 --mountable 选项，生成器会创建“可挂载”和具有独立命名空间的引擎。\n此选项和 --full 选项会为引擎生成相同的程序骨架。\n通过 --full 选项，生成器会在创建引擎的同时生成下面的程序骨架：\n")])])]),s("h2",{attrs:{id:"config-engine"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-engine","aria-hidden":"true"}},[t._v("#")]),t._v(" config engine")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("lib/blorgh/engine.rb 文件，相当于 Rails 应用的 config/application.rb 配置文件：\n")])])]),s("div",{staticClass:"language-rb extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rb"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Blorgh")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Engine")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Rails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Engine")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),s("h2",{attrs:{id:"mountable-vs-full"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mountable-vs-full","aria-hidden":"true"}},[t._v("#")]),t._v(" mountable vs full")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("--mountable 选项在 --full 选项的基础上增加了如下特性：\n")])])]),s("ul",[s("li",[t._v("静态资源文件的清单文件（application.js 和 application.css）")]),t._v(" "),s("li",[t._v("具有独立命名空间的 ApplicationController")]),t._v(" "),s("li",[t._v("具有独立命名空间的 ApplicationHelper")]),t._v(" "),s("li",[t._v("引擎的布局视图模板")])]),t._v(" "),s("div",{staticClass:"language-rb extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rb"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在 config/routes.rb 文件中为引擎设置独立的命名空间：")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Blorgh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Engine")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("routes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在 lib/blorgh/engine.rb 文件中为引擎设置独立的命名空间：")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Blorgh")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Engine")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Rails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Engine")]),t._v("\n    isolate_namespace "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Blorgh")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("此外，通过 --mountable 选项，\n生成器会在位于 test/dummy 的 dummy 测试应用中挂载 blorgh 引擎，\n具体做法是把下面这行代码添加到 dummy \n应用的路由文件 test/dummy/config/routes.rb 中：\n")])])]),s("div",{staticClass:"language-rb extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rb"}},[s("code",[t._v("mount "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Blorgh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Engine")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/blorgh"')]),t._v("\n")])])])])},[],!1,null,null,null);a.default=e.exports}}]);